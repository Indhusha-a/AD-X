<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>AD-X - Seller Profile</title>
    <link href="/css/style.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        .profile-header {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #28a745;
        }
        .profile-image {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #28a745, #20c997);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            margin: 0 auto 20px;
        }
        .ml-2 {
            margin-left: 10px;
        }
    </style>
</head>
<body>
<!-- Navigation Header -->
<nav class="navbar">
    <div class="container">
        <a class="navbar-brand" href="/">ðŸš€ AD-X</a>
        <div class="navbar-nav">
            <a href="/seller/dashboard" class="btn btn-secondary me-2">
                <i class="bi bi-speedometer"></i> Dashboard
            </a>
            <a href="/seller/products" class="btn btn-outline-success me-2">
                <i class="bi bi-boxes"></i> Products
            </a>
            <a class="btn btn-secondary" href="/logout">
                <i class="bi bi-box-arrow-right"></i> Logout
            </a>
        </div>
    </div>
</nav>

<!-- Profile Header -->
<div class="profile-header">
    <div class="container">
        <h1><i class="bi bi-person-badge"></i> Seller Profile</h1>
        <p>Manage your business information and settings</p>
    </div>
</div>

<div class="container">
    <div class="card fade-in" style="max-width: 800px; margin: 30px auto;">
        <!-- Success/Error Messages -->
        <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
        <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>

        <!-- Profile Overview -->
        <div style="text-align: center; margin-bottom: 30px;">
            <div class="profile-image">
                <i class="bi bi-shop"></i>
            </div>
            <h2 th:text="${profile.businessName}">Business Name</h2>
            <p class="text-muted" th:text="${user?.email} ?: 'No email'">seller@example.com</p>

            <div th:if="${profile.isVerified}" class="badge badge-success" style="font-size: 0.9rem;">
                <i class="bi bi-patch-check"></i> Verified Seller
            </div>
            <div th:unless="${profile.isVerified}" class="badge badge-warning" style="font-size: 0.9rem;">
                <i class="bi bi-clock"></i> Verification Pending
            </div>
        </div>

        <!-- Business Statistics -->
        <div class="profile-stats">
            <div class="stat-card">
                <h4 th:text="'$' + ${#numbers.formatDecimal(profile.totalRevenue, 1, 2)}">$0</h4>
                <p>Total Revenue</p>
            </div>
            <div class="stat-card">
                <h4 th:text="${profile.totalOrders}">0</h4>
                <p>Total Orders</p>
            </div>
            <div class="stat-card">
                <h4 th:text="${#numbers.formatDecimal(profile.averageRating, 1, 2)}">0.00</h4>
                <p>Average Rating</p>
            </div>
            <div class="stat-card">
                <h4 th:text="${#numbers.formatDecimal(profile.responseRate, 1, 2) + '%'}">0%</h4>
                <p>Response Rate</p>
            </div>
        </div>

        <!-- Profile Form -->
        <form th:action="@{/seller/profile/update}" method="post" th:object="${profile}">
            <input type="hidden" th:field="*{id}">

            <h3 style="margin-top: 30px; border-bottom: 2px solid #28a745; padding-bottom: 10px;">
                <i class="bi bi-building"></i> Business Information
            </h3>

            <div class="form-group">
                <label for="businessName"><i class="bi bi-building"></i> Business Name:</label>
                <input type="text" class="form-control" id="businessName" th:field="*{businessName}"
                       placeholder="Enter your business name" required>
            </div>

            <div class="form-group">
                <label for="businessDescription"><i class="bi bi-text-paragraph"></i> Business Description:</label>
                <textarea class="form-control" id="businessDescription" th:field="*{businessDescription}"
                          rows="4" placeholder="Describe your business and services..."></textarea>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label for="phoneNumber"><i class="bi bi-telephone"></i> Phone Number:</label>
                    <input type="tel" class="form-control" id="phoneNumber" th:field="*{phoneNumber}"
                           placeholder="+1 (555) 123-4567">
                </div>

                <div class="form-group">
                    <label for="websiteUrl"><i class="bi bi-globe"></i> Website URL:</label>
                    <input type="url" class="form-control" id="websiteUrl" th:field="*{websiteUrl}"
                           placeholder="https://yourbusiness.com">
                </div>
            </div>

            <div class="form-group">
                <label for="businessAddress"><i class="bi bi-geo-alt"></i> Business Address:</label>
                <textarea class="form-control" id="businessAddress" th:field="*{businessAddress}"
                          rows="3" placeholder="Enter your business address"></textarea>
            </div>

            <div class="form-group">
                <label for="businessLogoUrl"><i class="bi bi-image"></i> Business Logo URL:</label>
                <input type="url" class="form-control" id="businessLogoUrl" th:field="*{businessLogoUrl}"
                       placeholder="https://example.com/logo.png">
                <small class="text-muted">Add a URL to your business logo for better branding</small>
            </div>

            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 30px;">
                <a href="/seller/dashboard" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> Back to Dashboard
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check-circle"></i> Update Profile
                </button>
            </div>
        </form>

        <!-- Profile Tips -->
        <div style="margin-top: 30px; padding: 20px; background: #e7f3ff; border-radius: 8px;">
            <h5><i class="bi bi-lightbulb"></i> Profile Optimization Tips:</h5>
            <ul style="margin-bottom: 0;">
                <li>Use a professional business name that reflects your services</li>
                <li>Write a compelling business description to attract customers</li>
                <li>Add contact information to build trust with potential buyers</li>
                <li>Include your website and social media links for credibility</li>
                <li>Upload a professional logo to enhance your brand identity</li>
            </ul>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="footer">
    <div class="footer-content">
        <p>ðŸš€ <strong>AD-X Advertising Platform</strong> - Connecting Buyers and Sellers</p>
        <p>Â© 2024 AD-X. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
        <p>Seller Profile | Version 1.0.0</p>
    </div>
</footer>

<script>
    // Auto-hide alerts after 5 seconds
    document.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                alert.style.display = 'none';
            }, 5000);
        });
    });
</script>
</body>
</html>